(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{GEmG:function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return D}));var c=n("ofXK"),i=n("tyNb"),r=n("mrSG"),a=n("wHSu"),o=n("s1z9"),s=n("fXoL"),l=n("AytR"),b=n("tk/3");const d=l.a.SPRINGBOOT_API_ENDPOINT;let u=(()=>{class t{constructor(t){this.httpClient=t,this.model="dashboard",this.getDashboardData=()=>this.httpClient.get(`${d}${this.model}`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(b.b))},t.\u0275prov=s.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n("c9Ax"),h=n("o7am"),f=n("Fe25");function g(t,e){1&t&&s.Tb(0,"app-loader")}const m=function(t){return{"last-card":t}};function w(t,e){if(1&t&&s.Tb(0,"app-card",13),2&t){const t=e.$implicit;s.nc("ngClass",s.rc(4,m,e.last))("title",t.title)("count",t.count)("icon",t.icon)}}function v(t,e){if(1&t&&(s.Xb(0,"div",11),s.Gc(1,w,1,6,"app-card",12),s.Wb()),2&t){const t=s.hc();s.Fb(1),s.nc("ngForOf",t.dataList1)}}function O(t,e){1&t&&s.Tb(0,"app-loader")}function x(t,e){if(1&t&&s.Tb(0,"app-card",13),2&t){const t=e.$implicit;s.nc("ngClass",s.rc(4,m,e.last))("title",t.title)("count",t.count)("icon",t.icon)}}function P(t,e){if(1&t&&(s.Xb(0,"div",11),s.Gc(1,x,1,6,"app-card",12),s.Wb()),2&t){const t=s.hc();s.Fb(1),s.nc("ngForOf",t.dataList2)}}function y(t,e){1&t&&s.Tb(0,"app-loader")}const C=[{path:"",component:(()=>{class t{constructor(t,e,n){this.dashboardService=t,this.authService=e,this.router=n,this.now=new Date,this.getDashData=()=>{this.dashboardService.getDashboardData().subscribe(t=>{this.dataList1=[{title:"Total Resources",count:t.resourcesTotal,icon:a.s},{title:"Total Clients",count:t.clientsTotal,icon:a.r},{title:"Total Projects",count:t.projectsTotal,icon:a.m}],this.dataList2=[{title:"Projects Done",count:t.projectsDone,icon:a.e},{title:"Current Projects",count:t.projectsOnProgress,icon:a.g},{title:"Projects Overdue",count:t.projectsOverDue,icon:a.f}]})},setInterval(()=>{this.now=new Date},1)}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){-1!==this.router.url.indexOf("#")?(this.authService.auth.parseCognitoWebResponse(this.router.url),this.router.navigateByUrl(this.router.url.substring(0,this.router.url.indexOf("#")))):yield this.authService.login(),this.getDashData(),this.authService.session&&this.authService.getUserInfo().subscribe(t=>{this.currentUser=t,alert("you are a "+this.currentUser.role),Object(o.a)(5e3).fire({icon:"success",title:"Hi, "+this.currentUser.firstName})})}))}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(u),s.Sb(p.a),s.Sb(i.b))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-dashboard"]],decls:29,vars:14,consts:[[1,"coda-content"],[1,"time-bar"],[1,"spaced-container"],[1,"xl-text"],[4,"ngIf"],[1,"flex-display","time-box"],[1,"xl-text","time"],["src","../../../assets/timebar-pic.png",1,"side-img"],[1,"title-1"],["class","stack-row",4,"ngIf"],[1,"breaker"],[1,"stack-row"],["class","appcard",3,"ngClass","title","count","icon",4,"ngFor","ngForOf"],[1,"appcard",3,"ngClass","title","count","icon"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"h1",3),s.Ic(4," Welcome back, "),s.Tb(5,"br"),s.Gc(6,g,1,0,"app-loader",4),s.Ic(7),s.Wb(),s.Xb(8,"span",5),s.Xb(9,"h1",6),s.Ic(10),s.ic(11,"date"),s.Wb(),s.Xb(12,"p"),s.Ic(13),s.ic(14,"date"),s.Wb(),s.Wb(),s.Tb(15,"img",7),s.Wb(),s.Wb(),s.Tb(16,"br"),s.Xb(17,"h1",8),s.Ic(18," Organization "),s.Wb(),s.Tb(19,"br"),s.Xb(20,"div"),s.Gc(21,v,2,1,"div",9),s.Gc(22,O,1,0,"app-loader",4),s.Tb(23,"br",10),s.Xb(24,"h1",8),s.Ic(25," Projects Stats "),s.Wb(),s.Tb(26,"br"),s.Gc(27,P,2,1,"div",9),s.Gc(28,y,1,0,"app-loader",4),s.Wb(),s.Wb()),2&t&&(s.Fb(6),s.nc("ngIf",!e.currentUser),s.Fb(1),s.Kc(" ",e.currentUser?(null==e.currentUser?null:e.currentUser.firstName)+" "+(null==e.currentUser?null:e.currentUser.lastName):""," "),s.Fb(3),s.Kc(" ",s.kc(11,8,e.now,"hh:mm")," "),s.Fb(3),s.Jc(s.kc(14,11,e.now,"a")),s.Fb(8),s.nc("ngIf",e.dataList1),s.Fb(1),s.nc("ngIf",!e.dataList1),s.Fb(5),s.nc("ngIf",e.dataList2),s.Fb(1),s.nc("ngIf",!e.dataList2))},directives:[c.m,h.a,c.l,f.a,c.k],pipes:[c.e],styles:[".spaced-container[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;flex-direction:row;padding:16px}.xl-text[_ngcontent-%COMP%]{font-family:Open sans;font-weight:400;color:#0b4870;margin-left:15px;margin-right:15px;font-size:calc(2.8vh + 1vw)}.side-img[_ngcontent-%COMP%]{width:18vw}.stack-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.last-card[_ngcontent-%COMP%] >   div.card-lg{margin-right:0}.appcard[_ngcontent-%COMP%]{width:100%;display:flex;flex-basis:0;flex-grow:1;flex-shrink:1}.time[_ngcontent-%COMP%]{font-size:calc(3vh + 2vw)}.time-box[_ngcontent-%COMP%]{width:auto}@media only screen and (max-width:1024px){.side-img[_ngcontent-%COMP%]{display:none}.stack-row[_ngcontent-%COMP%]{flex-direction:column!important;flex-wrap:wrap}.appcard[_ngcontent-%COMP%]{display:block}.breaker[_ngcontent-%COMP%]{display:none}}"]}),t})()}];let I=(()=>{class t{}return t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({factory:function(e){return new(e||t)},imports:[[i.f.forChild(C)],i.f]}),t})();var T=n("6NWb"),k=n("3Pt+"),j=n("PCNd");let D=(()=>{class t{}return t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({factory:function(e){return new(e||t)},imports:[[c.c,I,T.b,k.h,j.a]]}),t})()}}]);