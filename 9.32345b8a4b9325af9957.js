(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{GEmG:function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return j}));var c=n("ofXK"),i=n("tyNb"),r=n("mrSG"),o=n("wHSu"),a=n("s1z9"),s=n("fXoL"),l=n("AytR"),b=n("tk/3");const u=l.a.SPRINGBOOT_API_ENDPOINT;let d=(()=>{class t{constructor(t){this.httpClient=t,this.model="dashboard",this.getDashboardData=()=>this.httpClient.get(`${u}${this.model}`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(b.b))},t.\u0275prov=s.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n("c9Ax"),h=n("o7am"),f=n("Fe25");function g(t,e){1&t&&s.Tb(0,"app-loader")}const m=function(t){return{"last-card":t}};function w(t,e){if(1&t&&s.Tb(0,"app-card",14),2&t){const t=e.$implicit;s.nc("ngClass",s.rc(4,m,e.last))("title",t.title)("count",t.count)("icon",t.icon)}}function v(t,e){if(1&t&&(s.Xb(0,"div",12),s.Gc(1,w,1,6,"app-card",13),s.Wb()),2&t){const t=s.hc();s.Fb(1),s.nc("ngForOf",t.dataList1)}}function O(t,e){1&t&&s.Tb(0,"app-loader")}function x(t,e){if(1&t&&s.Tb(0,"app-card",14),2&t){const t=e.$implicit;s.nc("ngClass",s.rc(4,m,e.last))("title",t.title)("count",t.count)("icon",t.icon)}}function P(t,e){if(1&t&&(s.Xb(0,"div",12),s.Gc(1,x,1,6,"app-card",13),s.Wb()),2&t){const t=s.hc();s.Fb(1),s.nc("ngForOf",t.dataList2)}}function y(t,e){1&t&&s.Tb(0,"app-loader")}const C=[{path:"",component:(()=>{class t{constructor(t,e,n){this.dashboardService=t,this.authService=e,this.router=n,this.now=new Date,this.getDashData=()=>{this.dashboardService.getDashboardData().subscribe(t=>{this.dataList1=[{title:"Total Resources",count:t.resourcesTotal,icon:o.r},{title:"Total Clients",count:t.clientsTotal,icon:o.q},{title:"Total Projects",count:t.projectsTotal,icon:o.l}],this.dataList2=[{title:"Projects Done",count:t.projectsDone,icon:o.e},{title:"Current Projects",count:t.projectsOnProgress,icon:o.g},{title:"Projects Overdue",count:t.projectsOverDue,icon:o.f}]})},this.logout=()=>{this.authService.logOut()},setInterval(()=>{this.now=new Date},1)}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){-1!==this.router.url.indexOf("#")?(this.authService.auth.parseCognitoWebResponse(this.router.url),this.router.navigateByUrl(this.router.url.substring(0,this.router.url.indexOf("#")))):yield this.authService.login(),this.getDashData(),this.authService.session&&this.authService.getUserInfo().subscribe(t=>{this.currentUser=t,alert("you are a "+this.currentUser.role),Object(a.a)(5e3).fire({icon:"success",title:"Hi, "+this.currentUser.firstName})})}))}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(d),s.Sb(p.a),s.Sb(i.b))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-dashboard"]],decls:31,vars:14,consts:[[1,"coda-content"],[3,"click"],[1,"time-bar"],[1,"spaced-container"],[1,"xl-text"],[4,"ngIf"],[1,"flex-display","time-box"],[1,"xl-text","time"],["src","../../../assets/timebar-pic.png",1,"side-img"],[1,"title-1"],["class","stack-row",4,"ngIf"],[1,"breaker"],[1,"stack-row"],["class","appcard",3,"ngClass","title","count","icon",4,"ngFor","ngForOf"],[1,"appcard",3,"ngClass","title","count","icon"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"button",1),s.ec("click",(function(){return e.logout()})),s.Ic(2,"logout"),s.Wb(),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"h1",4),s.Ic(6," Welcome back, "),s.Tb(7,"br"),s.Gc(8,g,1,0,"app-loader",5),s.Ic(9),s.Wb(),s.Xb(10,"span",6),s.Xb(11,"h1",7),s.Ic(12),s.ic(13,"date"),s.Wb(),s.Xb(14,"p"),s.Ic(15),s.ic(16,"date"),s.Wb(),s.Wb(),s.Tb(17,"img",8),s.Wb(),s.Wb(),s.Tb(18,"br"),s.Xb(19,"h1",9),s.Ic(20," Organization "),s.Wb(),s.Tb(21,"br"),s.Xb(22,"div"),s.Gc(23,v,2,1,"div",10),s.Gc(24,O,1,0,"app-loader",5),s.Tb(25,"br",11),s.Xb(26,"h1",9),s.Ic(27," Projects Stats "),s.Wb(),s.Tb(28,"br"),s.Gc(29,P,2,1,"div",10),s.Gc(30,y,1,0,"app-loader",5),s.Wb(),s.Wb()),2&t&&(s.Fb(8),s.nc("ngIf",!e.currentUser),s.Fb(1),s.Kc(" ",e.currentUser?(null==e.currentUser?null:e.currentUser.firstName)+" "+(null==e.currentUser?null:e.currentUser.lastName):""," "),s.Fb(3),s.Kc(" ",s.kc(13,8,e.now,"hh:mm")," "),s.Fb(3),s.Jc(s.kc(16,11,e.now,"a")),s.Fb(8),s.nc("ngIf",e.dataList1),s.Fb(1),s.nc("ngIf",!e.dataList1),s.Fb(5),s.nc("ngIf",e.dataList2),s.Fb(1),s.nc("ngIf",!e.dataList2))},directives:[c.m,h.a,c.l,f.a,c.k],pipes:[c.e],styles:[".spaced-container[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;flex-direction:row;padding:16px}.xl-text[_ngcontent-%COMP%]{font-family:Open sans;font-weight:400;color:#0b4870;margin-left:15px;margin-right:15px;font-size:calc(2.8vh + 1vw)}.side-img[_ngcontent-%COMP%]{width:18vw}.stack-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.last-card[_ngcontent-%COMP%] >   div.card-lg{margin-right:0}.appcard[_ngcontent-%COMP%]{width:100%;display:flex;flex-basis:0;flex-grow:1;flex-shrink:1}.time[_ngcontent-%COMP%]{font-size:calc(3vh + 2vw)}.time-box[_ngcontent-%COMP%]{width:auto}@media only screen and (max-width:1024px){.side-img[_ngcontent-%COMP%]{display:none}.stack-row[_ngcontent-%COMP%]{flex-direction:column!important;flex-wrap:wrap}.appcard[_ngcontent-%COMP%]{display:block}.breaker[_ngcontent-%COMP%]{display:none}}"]}),t})()}];let I=(()=>{class t{}return t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({factory:function(e){return new(e||t)},imports:[[i.f.forChild(C)],i.f]}),t})();var T=n("6NWb"),k=n("3Pt+"),W=n("PCNd");let j=(()=>{class t{}return t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({factory:function(e){return new(e||t)},imports:[[c.c,I,T.b,k.h,W.a]]}),t})()}}]);